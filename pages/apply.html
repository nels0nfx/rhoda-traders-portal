<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apply Now - Rhoda Traders</title>
    <!-- Favicon -->
    <link rel="icon" href="../images/favicon.ico" type="image/x-icon">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <nav class="navbar">
                <a href="../index.html" class="logo-container">
                    <img src="../images/logo.jpeg" alt="Rhoda Traders Logo" class="logo">
                </a>
                <button class="nav-toggle" aria-label="Toggle navigation">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <ul class="nav-menu">
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="job-description.html">Job Description</a></li>
                    <li><a href="contact.html">Contact</a></li>
                    <li><a href="login.html" class="btn btn-primary">Login</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1>Apply Now</h1>
            <p>Join our team as a Remote Wall Fittings Counter</p>
        </div>
    </section>

    <!-- Application Form Section -->
    <section class="section">
        <div class="container">
            <div class="application-form-container">
                <div class="form-intro">
                    <h2>Application Process</h2>
                    <p>Thank you for your interest in working with Rhoda Traders! Please complete the application form below to be considered for the Remote Wall Fittings Counter position.</p>
                    <p>After submitting your application, our team will review your information and contact you within 3-5 business days regarding the next steps.</p>
                    
                    <div class="application-steps">
                        <div class="step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h3>Complete Application</h3>
                                <p>Fill out the form with your personal information and qualifications.</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h3>Application Review</h3>
                                <p>Our team will review your application and credentials.</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h3>Verification</h3>
                                <p>We may contact you to verify your information.</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <h3>Approval</h3>
                                <p>If approved, you'll receive access to your dashboard.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <form id="application-form" class="needs-validation">
                    <div class="form-section">
                        <h3>Personal Information</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="firstName">First Name *</label>
                                <input type="text" id="firstName" name="firstName" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="lastName">Last Name *</label>
                                <input type="text" id="lastName" name="lastName" class="form-control" required>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="email">Email Address *</label>
                                <input type="email" id="email" name="email" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="phone">Phone Number *</label>
                                <input type="tel" id="phone" name="phone" class="form-control" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="address">Full Address (for receiving shipments) *</label>
                            <textarea id="address" name="address" class="form-control" rows="3" required></textarea>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="city">City *</label>
                                <input type="text" id="city" name="city" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="state">State/Province *</label>
                                <input type="text" id="state" name="state" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="zipCode">Zip/Postal Code *</label>
                                <input type="text" id="zipCode" name="zipCode" class="form-control" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="country">Country *</label>
                            <select id="country" name="country" class="form-control" required>
                                <option value="">Select Country</option>
                                <option value="US">United States</option>
                                <option value="CA">Canada</option>
                                <option value="UK">United Kingdom</option>
                                <option value="AU">Australia</option>
                                <!-- Add more countries as needed -->
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h3>Professional Information</h3>
                        
                        <div class="form-group">
                            <label for="employment">Current Employment Status</label>
                            <select id="employment" name="employment" class="form-control">
                                <option value="">Select Status</option>
                                <option value="fullTime">Employed Full-Time</option>
                                <option value="partTime">Employed Part-Time</option>
                                <option value="selfEmployed">Self-Employed</option>
                                <option value="unemployed">Unemployed</option>
                                <option value="student">Student</option>
                                <option value="retired">Retired</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="experience">Relevant Experience</label>
                            <textarea id="experience" name="experience" class="form-control" rows="3" placeholder="Please describe any experience you have with inventory management, counting, quality control, or other relevant skills."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="availability">Availability (hours per week) *</label>
                            <select id="availability" name="availability" class="form-control" required>
                                <option value="">Select Availability</option>
                                <option value="5-10">5-10 hours</option>
                                <option value="10-20">10-20 hours</option>
                                <option value="20-30">20-30 hours</option>
                                <option value="30+">30+ hours</option>
                                <option value="flexible">Flexible</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Do you have a secure location to receive and store packages? *</label>
                            <div class="radio-group">
                                <label class="radio-label">
                                    <input type="radio" name="secureLocation" value="yes" required> Yes
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="secureLocation" value="no"> No
                                </label>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>Are you available to coordinate with FedEx for package pickups? *</label>
                            <div class="radio-group">
                                <label class="radio-label">
                                    <input type="radio" name="fedexAvailability" value="yes" required> Yes
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="fedexAvailability" value="no"> No
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h3>Additional Information</h3>
                        
                        <div class="form-group">
                            <label for="hear-about">How did you hear about this opportunity?</label>
                            <select id="hear-about" name="hearAbout" class="form-control">
                                <option value="">Select Option</option>
                                <option value="search">Search Engine</option>
                                <option value="social">Social Media</option>
                                <option value="referral">Referral from Friend/Family</option>
                                <option value="jobBoard">Job Board</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="why-join">Why would you like to join Rhoda Traders? *</label>
                            <textarea id="why-join" name="whyJoin" class="form-control" rows="3" required></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="questions">Do you have any questions for us?</label>
                            <textarea id="questions" name="questions" class="form-control" rows="3"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="resume">Upload Resume (optional)</label>
                            <div class="file-upload">
                                <input type="file" id="resume" name="resume" class="file-input">
                                <label for="resume" class="file-label">Choose File</label>
                                <span class="file-name">No file chosen</span>
                            </div>
                            <small class="form-text">Accepted formats: PDF, DOC, DOCX. Max size: 2MB</small>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h3>Account Setup</h3>
                        
                        <div class="form-group">
                            <label for="username">Username *</label>
                            <input type="text" id="username" name="username" class="form-control" required>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="password">Password *</label>
                                <div class="password-field">
                                    <input type="password" id="password" name="password" class="form-control" required>
                                    <button type="button" class="password-toggle"><i class="fas fa-eye"></i></button>
                                </div>
                                <small class="form-text">Password must be at least 8 characters long and include at least one uppercase letter, one lowercase letter, one number, and one special character.</small>
                            </div>
                            <div class="form-group">
                                <label for="confirmPassword">Confirm Password *</label>
                                <div class="password-field">
                                    <input type="password" id="confirmPassword" name="confirmPassword" class="form-control" required>
                                    <button type="button" class="password-toggle"><i class="fas fa-eye"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h3>Terms and Conditions</h3>
                        
                        <div class="form-group">
                            <div class="checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" name="termsAgree" required>
                                    <span>I agree to the <a href="#" data-modal-target="terms-modal">Terms and Conditions</a> *</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <div class="checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" name="privacyAgree" required>
                                    <span>I agree to the <a href="#" data-modal-target="privacy-modal">Privacy Policy</a> *</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <div class="checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" name="emailAgree">
                                    <span>I would like to receive emails about future opportunities with Rhoda Traders</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn btn-secondary">Submit Application</button>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- Terms and Conditions Modal -->
    <div id="terms-modal" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Terms and Conditions</h3>
                <button class="modal-close" data-modal-close>&times;</button>
            </div>
            <div class="modal-body">
                <h4>1. Introduction</h4>
                <p>These terms and conditions govern your application and potential employment with Rhoda Traders as a Remote Wall Fittings Counter.</p>
                
                <h4>2. Application Process</h4>
                <p>By submitting an application, you certify that all information provided is true and accurate. Rhoda Traders reserves the right to verify all information and reject applications that contain false or misleading information.</p>
                
                <h4>3. Employment Relationship</h4>
                <p>If selected, you will be engaged as an independent contractor, not an employee of Rhoda Traders. This position does not include benefits typically associated with employment.</p>
                
                <h4>4. Responsibilities</h4>
                <p>Your responsibilities will include receiving boxes of Wall Fittings, counting the items accurately, reporting the counts, and coordinating with FedEx for pickup.</p>
                
                <h4>5. Payment</h4>
                <p>Payment terms will be provided upon acceptance of your application. All payments will be made according to the agreed-upon schedule.</p>
                
                <h4>6. Confidentiality</h4>
                <p>You agree to maintain the confidentiality of all Rhoda Traders business information, including client details, product information, and operational procedures.</p>
                
                <h4>7. Termination</h4>
                <p>Either party may terminate the working relationship with appropriate notice as specified in the formal agreement provided upon acceptance.</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" data-modal-close>Close</button>
            </div>
        </div>
    </div>

    <!-- Privacy Policy Modal -->
    <div id="privacy-modal" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Privacy Policy</h3>
                <button class="modal-close" data-modal-close>&times;</button>
            </div>
            <div class="modal-body">
                <h4>1. Information Collection</h4>
                <p>Rhoda Traders collects personal information for the purpose of evaluating your application and facilitating the working relationship if you are selected.</p>
                
                <h4>2. Use of Information</h4>
                <p>Your information will be used for application processing, communication regarding your application status, and for operational purposes if you are selected.</p>
                
                <h4>3. Information Security</h4>
                <p>We implement appropriate security measures to protect your personal information from unauthorized access, alteration, or disclosure.</p>
                
                <h4>4. Information Sharing</h4>
                <p>Your information will not be shared with third parties except as necessary for the application process and operational requirements (such as shipping coordination).</p>
                
                <h4>5. Data Retention</h4>
                <p>We will retain your information for as long as necessary to fulfill the purposes outlined in this policy, unless a longer retention period is required by law.</p>
                
                <h4>6. Your Rights</h4>
                <p>You have the right to access, correct, or request deletion of your personal information. Contact us at privacy@rhodatraders.com for assistance.</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" data-modal-close>Close</button>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="success-modal" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Application Submitted</h3>
                <button class="modal-close" data-modal-close>&times;</button>
            </div>
            <div class="modal-body">
                <div class="success-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h4>Thank You for Your Application!</h4>
                <p>Your application has been successfully submitted. Our team will review your information and contact you within 3-5 business days regarding the next steps.</p>
                <p>A confirmation email has been sent to your provided email address.</p>
            </div>
            <div class="modal-footer">
                <a href="../index.html" class="btn btn-primary">Return to Homepage</a>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Rhoda Traders</h3>
                    <p>A leading company in the Wall Fittings industry, providing quality products and flexible employment opportunities.</p>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="../index.html">Home</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="job-description.html">Job Description</a></li>
                        <li><a href="apply.html">Apply Now</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Contact Us</h3>
                    <ul>
                        <li><i class="fas fa-envelope"></i> <a href="mailto:info@rhodatraders.com">info@rhodatraders.com</a></li>
                        <li><i class="fas fa-phone"></i> <a href="tel:+1234567890">+1 (234) 567-890</a></li>
                        <li><i class="fas fa-map-marker-alt"></i> 123 Business Street, City, Country</li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Follow Us</h3>
                    <div class="social-icons">
                        <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Rhoda Traders. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Firebase JavaScript Files -->
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-analytics.js";
        import { getAuth, createUserWithEmailAndPassword, updateProfile } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-auth.js";
        import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-firestore.js";
        import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-storage.js";

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBCF-MkWe8JhkXKNoKLqzWAZxZVHMukO-c",
            authDomain: "rhoda-traders.firebaseapp.com",
            projectId: "rhoda-traders",
            storageBucket: "rhoda-traders.firebasestorage.app",
            messagingSenderId: "88738705806",
            appId: "1:88738705806:web:0cbbb1be4ce51daa7334df",
            measurementId: "G-44T210GQ6S"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth();
        const db = getFirestore();
        const storage = getStorage();

        // Form submission handler
        document.getElementById('application-form').addEventListener('submit', async function(event) {
            event.preventDefault();
            
            // Show loading state
            const submitButton = this.querySelector('button[type="submit"]');
            const originalButtonText = submitButton.textContent;
            submitButton.disabled = true;
            submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Submitting...';
            
            try {
                // Get form data
                const formData = new FormData(this);
                const userData = {};
                
                // Convert FormData to object
                for (let [key, value] of formData.entries()) {
                    userData[key] = value;
                }
                
                // Get resume file if uploaded
                const resumeFile = document.getElementById('resume').files[0];
                
                // Create user in Firebase Auth
                const email = userData.email;
                const password = userData.password;
                
                if (password !== userData.confirmPassword) {
                    throw new Error('Passwords do not match');
                }
                
                // Create user with email and password
                const userCredential = await createUserWithEmailAndPassword(auth, email, password);
                const user = userCredential.user;
                
                // Set display name
                await updateProfile(user, {
                    displayName: `${userData.firstName} ${userData.lastName}`
                });
                
                // Prepare user data for Firestore
                const userDataForFirestore = {
                    uid: user.uid,
                    firstName: userData.firstName,
                    lastName: userData.lastName,
                    email: userData.email,
                    phone: userData.phone,
                    address: userData.address,
                    city: userData.city,
                    state: userData.state,
                    zipCode: userData.zipCode,
                    country: userData.country,
                    employment: userData.employment,
                    experience: userData.experience,
                    availability: userData.availability,
                    secureLocation: userData.secureLocation,
                    fedexAvailability: userData.fedexAvailability,
                    hearAbout: userData.hearAbout,
                    whyJoin: userData.whyJoin,
                    questions: userData.questions,
                    username: userData.username,
                    emailAgree: userData.emailAgree === 'on',
                    createdAt: serverTimestamp(),
                    status: 'pending', // Initial status is pending admin approval
                    role: 'user'
                };
                
                // Upload resume if provided
                if (resumeFile) {
                    const resumeRef = ref(storage, `resumes/${user.uid}/${resumeFile.name}`);
                    await uploadBytes(resumeRef, resumeFile);
                    const resumeUrl = await getDownloadURL(resumeRef);
                    userDataForFirestore.resumeUrl = resumeUrl;
                }
                
                // Add user data to Firestore
                await addDoc(collection(db, 'users'), userDataForFirestore);
                
                // Show success modal
                document.getElementById('success-modal').classList.add('active');
                
            } catch (error) {
                console.error('Error submitting application:', error);
                
                // Show error message
                const errorElement = document.createElement('div');
                errorElement.className = 'error-message';
                
                let errorMessage = 'Failed to submit your application. Please try again.';
                if (error.code === 'auth/email-already-in-use') {
                    errorMessage = 'An account with this email already exists. Please use a different email or try logging in.';
                } else if (error.code === 'auth/weak-password') {
                    errorMessage = 'Password is too weak. Please use a stronger password.';
                } else if (error.code === 'auth/invalid-email') {
                    errorMessage = 'Please enter a valid email address.';
                } else if (error.message === 'Passwords do not match') {
                    errorMessage = 'Passwords do not match. Please try again.';
                }
                
                errorElement.textContent = errorMessage;
                
                // Add error message to form
                const formActions = document.querySelector('.form-actions');
                if (formActions.querySelector('.error-message')) {
                    formActions.querySelector('.error-message').remove();
                }
                formActions.prepend(errorElement);
                
                // Scroll to error message
                errorElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
            } finally {
                // Reset button state
                submitButton.disabled = false;
                submitButton.textContent = originalButtonText;
            }
        });
    </script>
    
    <!-- Main JavaScript -->
    <script src="../js/main.js"></script>
</html>